{"version":3,"sources":["transitive-styles.js"],"names":["fromSvg","toSvg","bikeSvg","STYLES","places","display","place","fill","stroke","r","stops_merged","data","index","utils"],"mappings":";;;;;;AAAA;;AAEA,IAAMA,UAAU,4YAAhB;AACA,IAAMC,QAAQ,gWAAd;AACA,IAAMC,UAAU,y3BAAhB;;AAEA,IAAIC,SAAS,EAAb;;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+DA;;AAEAA,OAAOC,MAAP,GAAgB;AACdC,WAAS,iBAAUA,QAAV,EAAmBC,KAAnB,EAA0B;AACjC,QAAI,CAAC,6BAAmBA,KAAnB,CAAL,EAAgC,OAAO,MAAP;AACjC,GAHa;AAIdC,QAAM,MAJQ;AAKdC,UAAQ,MALM;AAMd,kBAAgB,CANF;AAOdC,KAAG;;AAGL;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;;;;;;;AAzCgB,CAAhB,CAgDAN,OAAOO,YAAP,GAAsB;AACpBD,KAAG,WAAUJ,OAAV,EAAmBM,IAAnB,EAAyBC,KAAzB,EAAgCC,KAAhC,EAAuC;AACxC,WAAO,CAAP;AACD;AAHmB,CAAtB;;kBAMeV,M","file":"transitive-styles.js","sourcesContent":["import { isBikeshareStation } from '../../util/map'\n\nconst fromSvg = '<?xml version=\"1.0\" encoding=\"utf-8\"?><svg width=\"1792\" height=\"1792\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1728 647q0 22-26 48l-363 354 86 500q1 7 1 20 0 21-10.5 35.5t-30.5 14.5q-19 0-40-12l-449-236-449 236q-22 12-40 12-21 0-31.5-14.5t-10.5-35.5q0-6 2-20l86-500-364-354q-25-27-25-48 0-37 56-46l502-73 225-455q19-41 49-41t49 41l225 455 502 73q56 9 56 46z\"/></svg>'\nconst toSvg = '<?xml version=\"1.0\" encoding=\"utf-8\"?><svg width=\"1792\" height=\"1792\" viewBox=\"0 0 1792 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M1152 640q0-106-75-181t-181-75-181 75-75 181 75 181 181 75 181-75 75-181zm256 0q0 109-33 179l-364 774q-16 33-47.5 52t-67.5 19-67.5-19-46.5-52l-365-774q-33-70-33-179 0-212 150-362t362-150 362 150 150 362z\"/></svg>'\nconst bikeSvg = '<?xml version=\"1.0\" encoding=\"utf-8\"?><svg width=\"2304\" height=\"1792\" viewBox=\"0 0 2304 1792\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M762 1152h-314q-40 0-57.5-35t6.5-67l188-251q-65-31-137-31-132 0-226 94t-94 226 94 226 226 94q115 0 203-72.5t111-183.5zm-186-128h186q-18-85-75-148zm480 0l288-384h-480l-99 132q105 103 126 252h165zm1120 64q0-132-94-226t-226-94q-60 0-121 24l174 260q15 23 10 49t-27 40q-15 11-36 11-35 0-53-29l-174-260q-93 95-93 225 0 132 94 226t226 94 226-94 94-226zm128 0q0 185-131.5 316.5t-316.5 131.5-316.5-131.5-131.5-316.5q0-97 39.5-183.5t109.5-149.5l-65-98-353 469q-18 26-51 26h-197q-23 164-149 274t-294 110q-185 0-316.5-131.5t-131.5-316.5 131.5-316.5 316.5-131.5q114 0 215 55l137-183h-224q-26 0-45-19t-19-45 19-45 45-19h384v128h435l-85-128h-222q-26 0-45-19t-19-45 19-45 45-19h256q33 0 53 28l267 400q91-44 192-44 185 0 316.5 131.5t131.5 316.5z\" fill=\"#fff\"/></svg>'\n\nvar STYLES = {}\n\n/*STYLES.segments = {\n\n  // override the default stroke color\n  stroke: (display, segment) => {\n    if (!segment.focused) return\n\n    switch (segment.type) {\n      case 'CAR':\n        return '#888'\n      case 'WALK':\n        return '#86cdf9'\n      case 'BICYCLE':\n      case 'BICYCLE_RENT':\n        return '#f00'\n    }\n  },\n\n  // override the default stroke width\n  'stroke-width': (display, segment, index, utils) => {\n    switch (segment.type) {\n      case 'CAR':\n        return utils.pixels(display.zoom.scale(), 2, 4, 6) + 'px'\n      case 'WALK':\n        return '5px'\n      case 'BICYCLE':\n      case 'BICYCLE_RENT':\n        return '4px'\n      case 'TRANSIT':\n        // bus segments:\n        if (segment.mode === 3) {\n          return utils.pixels(display.zoom.scale(), 2, 4, 8) + 'px'\n        }\n        // all others:\n        return utils.pixels(display.zoom.scale(), 4, 8, 12) + 'px'\n    }\n  },\n\n  // specify the dash-array\n  'stroke-dasharray': (display, segment) => {\n    switch (segment.type) {\n      case 'CAR':\n        return '3,2'\n      case 'WALK':\n        return '0.01,7'\n      case 'BICYCLE':\n      case 'BICYCLE_RENT':\n        return '6,3'\n    }\n  },\n\n  // specify the line cap type\n  'stroke-linecap': (display, segment) => {\n    switch (segment.type) {\n      case 'WALK':\n        return 'round'\n      case 'CAR':\n      case 'BICYCLE':\n      case 'BICYCLE_RENT':\n        return 'butt'\n    }\n  }\n}*/\n\n/** style overrides for places (i.e. the start and end icons) **/\n\nSTYLES.places = {\n  display: function (display, place) {\n    if (!isBikeshareStation(place)) return 'none'\n  },\n  fill: '#f00',\n  stroke: '#fff',\n  'stroke-width': 2,\n  r: 7\n}\n\n/*function getIconSize (data) {\n  return isBikeshareStation(data.owner) ? 14 : 30\n}\n\nSTYLES.places_icon = {\n  display: function (display, data) {\n    if (!isBikeshareStation(data.owner)) return 'none'\n  },\n\n  // center the icon by offsetting by half the width/height\n  x: function (display, data) {\n    return -getIconSize(data) / 2\n  },\n  y: function (display, data) {\n    return -getIconSize(data) / 2\n  },\n  width: function (display, data) {\n    return getIconSize(data)\n  },\n  height: function (display, data) {\n    return getIconSize(data)\n  },\n  'xlink:href': function (display, data) {\n    const place = data.owner\n    if (place.getId() === 'from') return `data:image/svg+xml;utf8,${fromSvg}`\n    if (place.getId() === 'to') return `data:image/svg+xml;utf8,${toSvg}`\n    if (isBikeshareStation(place)) return `data:image/svg+xml;utf8,${bikeSvg}`\n  },\n  stroke: 0\n}*/\n\n/*STYLES.segments_halo = {\n  'stroke-width': function (display, data, index, utils) {\n    return data.computeLineWidth(display) + 7\n  },\n  opacity: 0.75\n}*/\n\nSTYLES.stops_merged = {\n  r: function (display, data, index, utils) {\n    return 6\n  }\n}\n\nexport default STYLES\n"]}