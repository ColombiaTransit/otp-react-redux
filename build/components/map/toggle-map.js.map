{"version":3,"sources":["toggle-map.js"],"names":["ToggleMap","state","visibleChild","diagramLeg","props","showDiagram","children","map","child","i","visibility","position","bottom","left","zIndex","padding","setState","toggleLabel","mapStateToProps","ownProps","otp","ui"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;AACA;;AACA;;AAEA;;;;;;IAEMA,S;;;AACJ,uBAAe;AAAA;;AAAA;;AAEb,UAAKC,KAAL,GAAa;AACXC,oBAAc;AADH,KAAb;AAFa;AAKd;;;;6BAES;AAAA;;AAAA,UACAC,UADA,GACe,KAAKC,KADpB,CACAD,UADA;;;AAGR,UAAME,cAAcF,UAApB;;AAEA,aACE;AAAA;AAAA,UAAK,WAAU,eAAf;AACG,aAAKC,KAAL,CAAWE,QAAX,CAAoBC,GAApB,CAAwB,UAACC,KAAD,EAAQC,CAAR,EAAc;AACrC,iBACE;AAAA;AAAA,cAAK,KAAKA,CAAV;AACE,yBAAU,eADZ;AAEE,qBAAO,EAAEC,YAAYD,MAAM,OAAKR,KAAL,CAAWC,YAAjB,GAAgC,SAAhC,GAA4C,QAA1D;AAFT;AAIG,mBAAKE,KAAL,CAAWE,QAAX,CAAoBG,CAApB;AAJH,WADF;AAQD,SATA,CADH;AAaE;AAAA;AAAA,YAAK,OAAO,EAAEE,UAAU,UAAZ,EAAwBC,QAAQ,MAAMP,cAAc,GAAd,GAAoB,CAA1B,CAAhC,EAA8DQ,MAAM,EAApE,EAAwEC,QAAQ,MAAhF,EAAZ;AACE;AAAA;AAAA;AACG,iBAAKV,KAAL,CAAWE,QAAX,CAAoBC,GAApB,CAAwB,UAACC,KAAD,EAAQC,CAAR,EAAc;AACrC,qBACE;AAAA;AAAA;AACE,uBAAKA,CADP;AAEE,0BAAO,QAFT;AAGE,2BAASA,MAAM,OAAKR,KAAL,CAAWC,YAAjB,GAAgC,SAAhC,GAA4C,SAHvD;AAIE,yBAAO,EAAEa,SAAS,SAAX,EAJT;AAKE,2BAAS,mBAAM;AAAE,2BAAKC,QAAL,CAAc,EAAEd,cAAcO,CAAhB,EAAd;AAAoC;AALvD;AAOGD,sBAAMJ,KAAN,CAAYa;AAPf,eADF;AAWD,aAZA;AADH;AADF,SAbF;AAgCGZ,uBAAe,sDAAY,KAAKF,UAAjB;AAhClB,OADF;AAoCD;;;;;AAGH;;AAEA,IAAMe,kBAAkB,SAAlBA,eAAkB,CAACjB,KAAD,EAAQkB,QAAR,EAAqB;AAC3C,SAAO,EAAEhB,YAAYF,MAAMmB,GAAN,CAAUC,EAAV,CAAalB,UAA3B,EAAP;AACD,CAFD;;kBAIe,yBAAQe,eAAR,EAAyBlB,SAAzB,C","file":"toggle-map.js","sourcesContent":["import React, { Component } from 'react'\nimport { connect } from 'react-redux'\nimport { ButtonGroup, Button } from 'react-bootstrap'\n\nimport LegDiagram from './leg-diagram'\n\nclass ToggleMap extends Component {\n  constructor () {\n    super()\n    this.state = {\n      visibleChild: 0\n    }\n  }\n\n  render () {\n    const { diagramLeg } = this.props\n\n    const showDiagram = diagramLeg\n\n    return (\n      <div className='map-container'>\n        {this.props.children.map((child, i) => {\n          return (\n            <div key={i}\n              className='map-container'\n              style={{ visibility: i === this.state.visibleChild ? 'visible' : 'hidden' }}\n            >\n              {this.props.children[i]}\n            </div>\n          )\n        })}\n\n        {/* The toggle buttons */}\n        <div style={{ position: 'absolute', bottom: 12 + (showDiagram ? 192 : 0), left: 12, zIndex: 100000 }}>\n          <ButtonGroup>\n            {this.props.children.map((child, i) => {\n              return (\n                <Button\n                  key={i}\n                  bsSize='xsmall'\n                  bsStyle={i === this.state.visibleChild ? 'success' : 'default'}\n                  style={{ padding: '3px 6px' }}\n                  onClick={() => { this.setState({ visibleChild: i }) }}\n                >\n                  {child.props.toggleLabel}\n                </Button>\n              )\n            })}\n          </ButtonGroup>\n        </div>\n\n        {/* The leg diagram overlay, if active */}\n        {showDiagram && <LegDiagram leg={diagramLeg} />}\n      </div>\n    )\n  }\n}\n\n// Connect to Redux store\n\nconst mapStateToProps = (state, ownProps) => {\n  return { diagramLeg: state.otp.ui.diagramLeg }\n}\n\nexport default connect(mapStateToProps)(ToggleMap)\n"]}