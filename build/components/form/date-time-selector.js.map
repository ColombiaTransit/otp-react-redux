{"version":3,"sources":["date-time-selector.js"],"names":["DateTimeSelector","props","_onDepartChange","evt","setQueryParam","departArrive","target","value","date","format","time","_onDateChange","_onDayOfWeekChange","weekday","_onEndTimeChange","endTime","_onStartTimeChange","startTime","_onTimeChange","state","dateFocused","options","profile","dowOptions","text","marginBottom","width","map","o","i","marginTop","display","Component","propTypes","PropTypes","string","location","object","label","bool","func","type","mapStateToProps","ownProps","otp","currentQuery","config","mapDispatchToProps"],"mappings":"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","file":"date-time-selector.js","sourcesContent":["// import moment from 'moment'\nimport React, {PropTypes, Component} from 'react'\nimport { Form, FormGroup, FormControl, Row, Col } from 'react-bootstrap'\n// import { SingleDatePicker } from 'react-dates'\nimport { connect } from 'react-redux'\nimport moment from 'moment'\n\nimport { setQueryParam } from '../../actions/form'\n\nclass DateTimeSelector extends Component {\n  static propTypes = {\n    date: PropTypes.string,\n    departArrive: PropTypes.string,\n    time: PropTypes.string,\n    location: PropTypes.object,\n    label: PropTypes.string,\n    profile: PropTypes.bool,\n    startTime: PropTypes.string,\n    endTime: PropTypes.string,\n\n    setQueryParam: PropTypes.func,\n    type: PropTypes.string // replace with locationType?\n  }\n\n  constructor (props) {\n    super(props)\n    this.state = {\n      dateFocused: false\n    }\n  }\n\n  _onDepartChange = (evt) => {\n    this.props.setQueryParam({ departArrive: evt.target.value })\n    if (evt.target.value === 'NOW') {\n      this.props.setQueryParam({\n        date: moment().format('YYYY-MM-DD'),\n        time: moment().format('HH:mm')\n      })\n    }\n  }\n\n  _onDateChange = (evt) => {\n    this.props.setQueryParam({ date: evt.target.value })\n  }\n\n  _onDayOfWeekChange = evt => {\n    this.props.setQueryParam({\n      date: moment().weekday(evt.target.value).format('YYYY-MM-DD')\n    })\n  }\n\n  _onEndTimeChange = (evt) => {\n    this.props.setQueryParam({ endTime: evt.target.value })\n  }\n\n  _onStartTimeChange = (evt) => {\n    this.props.setQueryParam({ startTime: evt.target.value })\n  }\n\n  _onTimeChange = (evt) => {\n    this.props.setQueryParam({ time: evt.target.value })\n  }\n\n  render () {\n    const { departArrive, date, time, startTime, endTime } = this.props\n    const options = ['NOW', 'DEPART', 'ARRIVE']\n    // TODO: choose date / time selectors (currently Chrome optimized)\n\n    if (this.props.profile) {\n      const dowOptions = [{\n        text: 'WEEKDAY',\n        weekday: 3\n      }, {\n        text: 'SATURDAY',\n        weekday: 6\n      }, {\n        text: 'SUNDAY',\n        weekday: 0\n      }]\n\n      return (\n        <Form>\n          <FormGroup style={{marginBottom: '15px'}} className='date-time-selector'>\n            <Row>\n              <Col xs={12}>\n                <FormControl\n                  className='dropdown-selector'\n                  componentClass='select'\n                  style={{width: '100%'}}\n                  onChange={this._onDayOfWeekChange}\n                >\n                  {dowOptions.map((o, i) => (\n                    <option key={i} value={o.weekday}>{o.text}</option>\n                  ))}\n                </FormControl>\n              </Col>\n            </Row>\n            <Row style={{ marginTop: 20 }}>\n              <Col xs={5}>\n                <FormControl\n                  className='time-selector'\n                  type='time'\n                  value={startTime}\n                  style={{width: '100%'}}\n                  onChange={this._onStartTimeChange}\n                />\n              </Col>\n              <Col xs={2}>TO</Col>\n              <Col xs={5}>\n                <FormControl\n                  className='time-selector'\n                  type='time'\n                  value={endTime}\n                  style={{width: '100%'}}\n                  onChange={this._onEndTimeChange}\n                />\n              </Col>\n            </Row>\n          </FormGroup>\n        </Form>\n      )\n    }\n\n    return (\n      <Form>\n        <FormGroup style={{marginBottom: '15px'}} className='date-time-selector'>\n          <Row>\n            <Col xs={12}>\n              <FormControl\n                className='dropdown-selector'\n                componentClass='select'\n                value={departArrive}\n                onChange={this._onDepartChange}\n                style={{width: '100%'}}\n              >\n                {options.map((o, i) => (\n                  <option key={i} value={o}>{o}</option>\n                ))}\n              </FormControl>\n            </Col>\n          </Row>\n          <Row style={{ marginTop: 20 }}>\n            <Col xs={6}>\n              <FormControl\n                className='time-selector'\n                type='time'\n                value={time}\n                onChange={this._onTimeChange}\n                style={{width: '100%', display: departArrive === 'NOW' && 'none'}}\n              />\n            </Col>\n            <Col xs={6}>\n              <FormControl\n                className='date-selector'\n                type='date'\n                value={date}\n                onChange={this._onDateChange}\n                style={{width: '100%', display: departArrive === 'NOW' && 'none'}}\n              />\n            </Col>\n          </Row>\n        </FormGroup>\n      </Form>\n    )\n  }\n}\n\nconst mapStateToProps = (state, ownProps) => {\n  const { departArrive, date, time, startTime, endTime } = state.otp.currentQuery\n  return {\n    config: state.otp.config,\n    departArrive,\n    date,\n    time,\n    startTime,\n    endTime\n  }\n}\n\nconst mapDispatchToProps = {\n  setQueryParam\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(DateTimeSelector)\n"]}