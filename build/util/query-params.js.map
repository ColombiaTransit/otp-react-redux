{"version":3,"sources":["query-params.js"],"names":["formatPlace","location","alternateName","name","lat","lon","queryParams","routingTypes","default","itineraryRewrite","fromPlace","value","profileRewrite","from","toPlace","to","arriveBy","accessModes","directModes","transitModes","length","split","forEach","m","push","applicable","query","mode","indexOf","selector","label","options","text","maxWalkDistance","maxBikeDistance","opts","splice","optimize","config","modes","configModes","concat","configMode","find","showWheelchairSetting","company","companies","includes"],"mappings":"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","file":"query-params.js","sourcesContent":["import { getCurrentDate, getCurrentTime } from '../util/time'\nimport { isTransit, isAccessMode, isCar, hasTransit, hasBike } from '../util/itinerary'\n\n/**\n * name: the default name of the parameter used for internal reference and API calls\n *\n * routingTypes: array of routing type(s) (ITINERARY, PROFILE, or both) this param applies to\n *\n * applicable: an optional function (accepting the current full query as a\n *   parameter) indicating whether this query parameter is applicable to the query.\n *   (Applicability is assumed if this function is not provided.)\n *\n * default: the default value for this parameter\n *\n * itineraryRewrite: an optional function for translating the key and/or value\n *   for ITINERARY mode only (e.g. 'to' is rewritten as 'toPlace'). Accepts the\n *   intial internal value as a function parameter.\n *\n * profileRewrite: an optional function for translating the value for PROFILE mode\n *\n * label: a text label for for onscreen display. May either be a text string or a\n *   function (accepting the current full query as a parameter) returning a string\n *\n * selector: the default type of UI selector to use in the form. Can be one of:\n *   - DROPDOWN: a standard drop-down menu selector\n *\n * options: an array of text/value pairs used with a dropdown selector\n *\n * TODO: validation system for rewrite functions and/or better user documentation\n * TODO: alphabetize below list\n */\n\n// FIXME: Use for parsing URL values?\n// const stringToLocation = string => {\n//   const split = string.split(',')\n//   return split.length === 2\n//     ? {lat: split[0], lon: split[1]}\n//     : {lat: null, lon: null}\n// }\n\nconst formatPlace = (location, alternateName) => {\n  if (!location) return null\n  const name = location.name || `${alternateName || 'Place'} (${location.lat},${location.lon})`\n  return `${name}::${location.lat},${location.lon}`\n}\n\nconst queryParams = [\n  { /* from - the trip origin. stored internally as a location (lat/lon/name) object  */\n    name: 'from',\n    routingTypes: [ 'ITINERARY', 'PROFILE' ],\n    default: null,\n    itineraryRewrite: value => ({ fromPlace: formatPlace(value, 'Origin') }),\n    profileRewrite: value => ({ from: { lat: value.lat, lon: value.lon } })\n    // FIXME: Use for parsing URL values?\n    // fromURL: stringToLocation\n  },\n\n  { /* to - the trip destination. stored internally as a location (lat/lon/name) object  */\n    name: 'to',\n    routingTypes: [ 'ITINERARY', 'PROFILE' ],\n    default: null,\n    itineraryRewrite: value => ({ toPlace: formatPlace(value, 'Destination') }),\n    profileRewrite: value => ({ to: { lat: value.lat, lon: value.lon } })\n    // FIXME: Use for parsing URL values?\n    // fromURL: stringToLocation\n  },\n\n  { /* date - the date of travel, in MM-DD-YYYY format */\n    name: 'date',\n    routingTypes: [ 'ITINERARY', 'PROFILE' ],\n    default: getCurrentDate()\n  },\n\n  { /* time - the arrival/departure time for an itinerary trip, in HH:MM format */\n    name: 'time',\n    routingTypes: [ 'ITINERARY' ],\n    default: getCurrentTime()\n  },\n\n  { /* departArrive - whether this is a depart-at, arrive-by, or leave-now trip */\n    name: 'departArrive',\n    routingTypes: [ 'ITINERARY' ],\n    default: 'NOW',\n    itineraryRewrite: value => ({ arriveBy: (value === 'ARRIVE') })\n  },\n\n  { /* startTime - the start time for a profile trip, in HH:MM format */\n    name: 'startTime',\n    routingTypes: [ 'PROFILE' ],\n    default: '07:00'\n  },\n\n  { /* endTime - the end time for a profile trip, in HH:MM format */\n    name: 'endTime',\n    routingTypes: [ 'PROFILE' ],\n    default: '09:00'\n  },\n\n  { /* mode - the allowed modes for a trip, as a comma-separated list */\n    name: 'mode',\n    routingTypes: [ 'ITINERARY', 'PROFILE' ],\n    default: 'WALK,TRANSIT', // TODO: make this dependent on routingType?\n    profileRewrite: value => {\n      const accessModes = []\n      const directModes = []\n      const transitModes = []\n\n      if (value && value.length > 0) {\n        value.split(',').forEach(m => {\n          if (isTransit(m)) transitModes.push(m)\n          if (isAccessMode(m)) {\n            accessModes.push(m)\n            // TODO: make configurable whether direct-driving is considered\n            if (!isCar(m)) directModes.push(m)\n          }\n        })\n      }\n\n      return { accessModes, directModes, transitModes }\n    }\n  },\n\n  { /* showIntermediateStops - whether response should include intermediate stops for transit legs */\n    name: 'showIntermediateStops',\n    routingTypes: [ 'ITINERARY' ],\n    default: true\n  },\n\n  { /* maxWalkDistance - the maximum distance in meters the user will walk to transit. */\n    name: 'maxWalkDistance',\n    routingTypes: [ 'ITINERARY' ],\n    applicable: query => query.mode && hasTransit(query.mode) && query.mode.indexOf('WALK') !== -1,\n    default: 1207, // 3/4 mi.\n    selector: 'DROPDOWN',\n    label: 'Maximum Walk',\n    options: [\n      {\n        text: '1/10 mile',\n        value: 160.9\n      }, {\n        text: '1/4 mile',\n        value: 402.3\n      }, {\n        text: '1/2 mile',\n        value: 804.7\n      }, {\n        text: '3/4 mile',\n        value: 1207\n      }, {\n        text: '1 mile',\n        value: 1609\n      }, {\n        text: '2 miles',\n        value: 3219\n      }, {\n        text: '5 miles',\n        value: 8047\n      }\n    ]\n  },\n\n  { /* maxBikeDistance - the maximum distance in meters the user will bike. Not\n     * actually an OTP parameter (maxWalkDistance doubles for biking) but we\n     * store it separately internally in order to allow different default values,\n     * options, etc.  Translated to 'maxWalkDistance' via the rewrite function.\n     */\n    name: 'maxBikeDistance',\n    routingTypes: [ 'ITINERARY' ],\n    applicable: query => query.mode && hasTransit(query.mode) && query.mode.indexOf('BICYCLE') !== -1,\n    default: 4828, // 3 mi.\n    selector: 'DROPDOWN',\n    label: 'Maximum Bike',\n    options: [\n      {\n        text: '1/4 mile',\n        value: 402.3\n      }, {\n        text: '1/2 mile',\n        value: 804.7\n      }, {\n        text: '3/4 mile',\n        value: 1207\n      }, {\n        text: '1 mile',\n        value: 1609\n      }, {\n        text: '2 miles',\n        value: 3219\n      }, {\n        text: '3 miles',\n        value: 4828\n      }, {\n        text: '5 miles',\n        value: 8047\n      }, {\n        text: '10 miles',\n        value: 16093\n      }, {\n        text: '20 miles',\n        value: 32187\n      }, {\n        text: '30 miles',\n        value: 48280\n      }\n    ],\n    itineraryRewrite: value => ({\n      maxWalkDistance: value,\n      // ensures that the value is repopulated when loaded from URL params\n      maxBikeDistance: value\n    })\n  },\n\n  { /* optimize -- how to optimize a trip (non-bike trips) */\n    name: 'optimize',\n    applicable: query => hasTransit(query.mode) && !hasBike(query.mode),\n    routingTypes: [ 'ITINERARY' ],\n    default: 'QUICK',\n    selector: 'DROPDOWN',\n    label: 'Optimize for',\n    options: [\n      {\n        text: 'Speed',\n        value: 'QUICK'\n      }, {\n        text: 'Fewest Transfers',\n        value: 'TRANSFERS'\n      }\n    ]\n  },\n\n  { /* optimizeBike -- how to optimize an bike-based trip */\n    name: 'optimizeBike',\n    applicable: query => hasBike(query.mode),\n    routingTypes: [ 'ITINERARY' ],\n    default: 'SAFE',\n    selector: 'DROPDOWN',\n    label: 'Optimize for',\n    options: query => {\n      const opts = [{\n        text: 'Speed',\n        value: 'QUICK'\n      }, {\n        text: 'Bike-Friendly Trip',\n        value: 'SAFE'\n      }, {\n        text: 'Flat Trip',\n        value: 'FLAT'\n      }]\n\n      // Include transit-specific option, if applicable\n      if (hasTransit(query.mode)) {\n        opts.splice(1, 0, {\n          text: 'Fewest Transfers',\n          value: 'TRANSFERS'\n        })\n      }\n\n      return opts\n    },\n    itineraryRewrite: value => ({ optimize: value })\n  },\n\n\n  { /* maxWalkTime -- the maximum time the user will spend walking in minutes */\n    name: 'maxWalkTime',\n    routingTypes: [ 'PROFILE' ],\n    default: 15,\n    selector: 'DROPDOWN',\n    label: 'Max Walk Time',\n    applicable: query => query.mode && hasTransit(query.mode) && query.mode.indexOf('WALK') !== -1,\n    options: [\n      {\n        text: '5 minutes',\n        value: 5\n      }, {\n        text: '10 minutes',\n        value: 10\n      }, {\n        text: '15 minutes',\n        value: 15\n      }, {\n        text: '20 minutes',\n        value: 20\n      }, {\n        text: '30 minutes',\n        value: 30\n      }, {\n        text: '45 minutes',\n        value: 45\n      }, {\n        text: '1 hour',\n        value: 60\n      }\n    ]\n  },\n\n  { /* walkSpeed -- the user's walking speed in m/s */\n    name: 'walkSpeed',\n    routingTypes: [ 'ITINERARY', 'PROFILE' ],\n    default: 1.34,\n    selector: 'DROPDOWN',\n    label: 'Walk Speed',\n    applicable: query => query.mode && query.mode.indexOf('WALK') !== -1,\n    options: [\n      {\n        text: '2 MPH',\n        value: 0.89\n      }, {\n        text: '3 MPH',\n        value: 1.34\n      }, {\n        text: '4 MPH',\n        value: 1.79\n      }\n    ]\n  },\n\n  { /* maxBikeTime -- the maximum time the user will spend biking in minutes */\n    name: 'maxBikeTime',\n    routingTypes: [ 'PROFILE' ],\n    default: 20,\n    selector: 'DROPDOWN',\n    label: 'Max Bike Time',\n    applicable: query => query.mode && hasTransit(query.mode) && query.mode.indexOf('BICYCLE') !== -1,\n    options: [\n      {\n        text: '5 minutes',\n        value: 5\n      }, {\n        text: '10 minutes',\n        value: 10\n      }, {\n        text: '15 minutes',\n        value: 15\n      }, {\n        text: '20 minutes',\n        value: 20\n      }, {\n        text: '30 minutes',\n        value: 30\n      }, {\n        text: '45 minutes',\n        value: 45\n      }, {\n        text: '1 hour',\n        value: 60\n      }\n    ]\n  },\n\n  { /* bikeSpeed -- the user's bikeSpeed speed in m/s */\n    name: 'bikeSpeed',\n    routingTypes: [ 'ITINERARY', 'PROFILE' ],\n    default: 3.58,\n    selector: 'DROPDOWN',\n    label: 'Bicycle Speed',\n    applicable: query => query.mode && query.mode.indexOf('BICYCLE') !== -1,\n    options: [\n      {\n        text: '6 MPH',\n        value: 2.68\n      }, {\n        text: '8 MPH',\n        value: 3.58\n      }, {\n        text: '10 MPH',\n        value: 4.47\n      }, {\n        text: '12 MPH',\n        value: 5.36\n      }\n    ]\n  },\n\n  { /* ignoreRealtimeUpdates -- if true, do not use realtime updates in routing */\n    name: 'ignoreRealtimeUpdates',\n    routingTypes: [ 'ITINERARY' ],\n    default: false\n  },\n\n  { /* companies -- tnc companies to query */\n    name: 'companies',\n    routingTypes: [ 'ITINERARY' ],\n    default: null\n  },\n\n  { /* wheelchair -- whether the user requires a wheelchair-accessible trip */\n    name: 'wheelchair',\n    routingTypes: [ 'ITINERARY' ],\n    default: false,\n    selector: 'CHECKBOX',\n    label: 'Wheelchair Accessible',\n    applicable: (query, config) => {\n      if (!query.mode || !config.modes) return false\n      const configModes = (config.modes.accessModes || []).concat(config.modes.transitModes || [])\n      for (let mode of query.mode.split(',')) {\n        const configMode = configModes.find(m => m.mode === mode)\n        if (!configMode || !configMode.showWheelchairSetting) continue\n        if (configMode.company && (!query.companies || !query.companies.split(',').includes(configMode.company))) continue\n        return true\n      }\n    }\n  }\n]\n\nexport default queryParams\n"]}