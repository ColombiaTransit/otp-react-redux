{"version":3,"sources":["time.js"],"names":["getTimeFormat","getDateFormat","getLongDateFormat","formatDuration","formatTime","formatStopTime","getCurrentTime","getCurrentDate","config","dateTime","timeFormat","dateFormat","longDateFormat","seconds","dur","moment","duration","text","hours","minutes","ms","options","offset","format","startOf"],"mappings":";;;;;QAEgBA,a,GAAAA,a;QAIAC,a,GAAAA,a;QAIAC,iB,GAAAA,iB;QAUAC,c,GAAAA,c;QAcAC,U,GAAAA,U;QAWAC,c,GAAAA,c;QAQAC,c,GAAAA,c;QAQAC,c,GAAAA,c;;AA7DhB;;;;;;AAEO,SAASP,aAAT,CAAwBQ,MAAxB,EAAgC;AACrC,SAAQA,OAAOC,QAAP,IAAmBD,OAAOC,QAAP,CAAgBC,UAApC,GAAkDF,OAAOC,QAAP,CAAgBC,UAAlE,GAA+E,OAAtF;AACD;;AAEM,SAAST,aAAT,CAAwBO,MAAxB,EAAgC;AACrC,SAAQA,OAAOC,QAAP,IAAmBD,OAAOC,QAAP,CAAgBE,UAApC,GAAkDH,OAAOC,QAAP,CAAgBE,UAAlE,GAA+E,YAAtF;AACD;;AAEM,SAAST,iBAAT,CAA4BM,MAA5B,EAAoC;AACzC,SAAQA,OAAOC,QAAP,IAAmBD,OAAOC,QAAP,CAAgBG,cAApC,GAAsDJ,OAAOC,QAAP,CAAgBG,cAAtE,GAAuF,aAA9F;AACD;;AAED;;;;;;AAMO,SAAST,cAAT,CAAyBU,OAAzB,EAAkC;AACvC,MAAMC,MAAMC,iBAAOC,QAAP,CAAgBH,OAAhB,EAAyB,SAAzB,CAAZ;AACA,MAAII,OAAO,EAAX;AACA,MAAIH,IAAII,KAAJ,KAAc,CAAlB,EAAqBD,QAAQH,IAAII,KAAJ,KAAc,OAAtB;AACrBD,UAAQH,IAAIK,OAAJ,KAAgB,MAAxB;AACA,SAAOF,IAAP;AACD;;AAED;;;;;;AAMO,SAASb,UAAT,CAAqBgB,EAArB,EAAyBC,OAAzB,EAAkC;AACvC,SAAO,sBAAOD,MAAMC,WAAWA,QAAQC,MAAnB,GAA4BD,QAAQC,MAApC,GAA6C,CAAnD,CAAP,EACJC,MADI,CACGF,WAAWA,QAAQE,MAAnB,GAA4BF,QAAQE,MAApC,GAA6C,OADhD,CAAP;AAED;;AAED;;;;;;AAMO,SAASlB,cAAT,CAAyBQ,OAAzB,EAAkC;AACvC,SAAO,wBAASW,OAAT,CAAiB,KAAjB,EAAwBX,OAAxB,CAAgCA,OAAhC,EAAyCU,MAAzC,CAAgD,QAAhD,CAAP;AACD;;AAED;;;;AAIO,SAASjB,cAAT,GAA2B;AAChC,SAAO,wBAASiB,MAAT,CAAgB,OAAhB,CAAP;AACD;;AAED;;;;AAIO,SAAShB,cAAT,GAA2B;AAChC,SAAO,wBAASgB,MAAT,CAAgB,YAAhB,CAAP;AACD","file":"time.js","sourcesContent":["import moment from 'moment'\n\nexport function getTimeFormat (config) {\n  return (config.dateTime && config.dateTime.timeFormat) ? config.dateTime.timeFormat : 'HH:mm'\n}\n\nexport function getDateFormat (config) {\n  return (config.dateTime && config.dateTime.dateFormat) ? config.dateTime.dateFormat : 'YYYY-MM-DD'\n}\n\nexport function getLongDateFormat (config) {\n  return (config.dateTime && config.dateTime.longDateFormat) ? config.dateTime.longDateFormat : 'D MMMM YYYY'\n}\n\n/**\n * Formats an elapsed time duration for display in narrative\n * TODO: internationalization\n * @param {number} seconds duration in seconds\n * @returns {string} formatted text representation\n */\nexport function formatDuration (seconds) {\n  const dur = moment.duration(seconds, 'seconds')\n  let text = ''\n  if (dur.hours() > 0) text += dur.hours() + ' hr, '\n  text += dur.minutes() + ' min'\n  return text\n}\n\n/**\n * Formats a time value for display in narrative\n * TODO: internationalization/timezone\n * @param {number} ms epoch time value in milliseconds\n * @returns {string} formatted text representation\n */\nexport function formatTime (ms, options) {\n  return moment(ms + (options && options.offset ? options.offset : 0))\n    .format(options && options.format ? options.format : 'HH:mm')\n}\n\n/**\n * Formats a stop time value for display in narrative\n * TODO: internationalization/timezone\n * @param {number} seconds time since midnight in seconds\n * @returns {string} formatted text representation\n */\nexport function formatStopTime (seconds) {\n  return moment().startOf('day').seconds(seconds).format('h:mm a')\n}\n\n/**\n * Formats current time for use in OTP query\n * @returns {string} formatted text representation\n */\nexport function getCurrentTime () {\n  return moment().format('HH:mm')\n}\n\n/**\n * Formats current date for use in OTP query\n * @returns {string} formatted text representation\n */\nexport function getCurrentDate () {\n  return moment().format('YYYY-MM-DD')\n}\n"]}